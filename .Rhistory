getwd()
library(tidyverse)
library(lubridate)
library(ggplot2)
library(scales)
library(dplyr)
data <- read.csv("COVID-19_Vaccinations_in_the_United_States_Jurisdiction.csv")
setwd("D:/homework and notes 2022 fall/toolkit/Final_Project")
library(tidyverse)
library(lubridate)
library(ggplot2)
library(scales)
library(dplyr)
data <- read.csv("COVID-19_Vaccinations_in_the_United_States_Jurisdiction.csv")
df_table <- data[,c(1,3,5:8)] %>% filter(Location=="GA") %>%
group_by(Date) %>%
arrange(desc(Distributed_Janssen),desc(Distributed_Moderna),desc(Distributed_Pfizer),desc(Distributed_Novavax))
knitr::kable(head(df_table),"simple",
col.names = c('Date','Location','Janssen','Moderna', 'Pfizer', 'Novavax'),align = "lccccc",
caption = "Top 6 Vaccine Deliver Date")
#|fig.align = 'center'
#|fig.height = 8
#|fig.width = 12
colnames(data)[5:8] <- c("Janssen","Moderna","Pfizer","Novavax")
df_plot<-data[,c(1,3,5:8)] %>%
filter(Location=="GA") %>%
pivot_longer(c(Janssen,Moderna,Pfizer,Novavax),
names_to = "Type",
values_to = "Num_deliver",
values_drop_na = TRUE) %>%
filter(Num_deliver != 0) %>%
na.omit()
df_plot$Date<- as.Date(df_plot$Date, format="%m/%d/%Y")
df_plot$Date <- as.POSIXct(df_plot$Date)
ggplot(data=df_plot)+
geom_line(aes(x=Date,y=Num_deliver,group=Type,color=Type))+
scale_x_datetime(date_breaks = "60 days",labels = date_format("%Y-%m-%d"))+
theme(axis.text.x = element_text(size=5, angle=0))+
ggtitle("Date-Number of Covid-19 Vaccine Delivery Between March 2021- September 2022")+
xlab("Date") +
ylab("Number of Covid-19 Vaccine Delivery")
data
data$Location
table(data$Location)
count(data$Location)
uniqe(data$Location)
unique(data$Location)
data
knitr::kable(unique(data$Location))
States <- c(unique(data$Location))
knitr::kable(States)
knitr::kable(States,col.names = "States")
Num_States <- ncol(States)
Num_States
c(unique(data$Location))
Num_States <- length(States)
Num_States
knitr::kable(States,col.names = "Number of States")
knitr::kable(Num_States,col.names = "Number of States")
unique(data$Date)
States <- lenght(unique(data$Location))
States <- length(unique(data$Location))
Date <- length(unique(data$Date))
data <- read.csv("COVID-19_Vaccinations_in_the_United_States_Jurisdiction.csv")
data
summary(data)
describe(data)
install.packages("Hmisc")
library(Hmisc)
describe(data)
describe(data)$n
describe(data).n
data
colnames(data)
describe(data[,1:8])
descriptive<- describe(data[,1:8])
descriptive
str(descriptive)
knitr::kable(descriptive,col.names = "Number of States")
descriptive<- as.data.frame(describe(data[,1:8]))
describe(data[,1:8])
class(describe(data[,1:8]))
str()
data[,1:8]
colnames(data)
Num_States
Num_Date
colnames(data)
summary(data[,5:8])
as.data.frame(summary(data[,5:8]))
summary(data[,5:8])
knitr::kable(summary(data[,5:8]))
kbl(summary(data[,5:8]), caption = "Summary of COVID cases in the US, Georgia(GA), New York(NY), and California(CA)",
col.names = current_data_colnames,
booktabs = T,
centering = T,
align = c("l", "c","c","c","c")) %>%
row_spec(0, align = "c", bold = TRUE) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
kable_styling(latex_options=c("scale_down"))
pacman::p_load(
knitr,
kableExtra,
dplyr,
lubridate,
ggplot2,
hrbrthemes
)
install.packages("pacman")
pacman::p_load(
knitr,
kableExtra,
dplyr,
lubridate,
ggplot2,
hrbrthemes
)
library(pacman)
pacman::p_load(
knitr,
kableExtra,
dplyr,
lubridate,
ggplot2,
hrbrthemes
)
kbl(summary(data[,5:8]), caption = "Summary of COVID cases in the US, Georgia(GA), New York(NY), and California(CA)",
col.names = current_data_colnames,
booktabs = T,
centering = T,
align = c("l", "c","c","c","c")) %>%
row_spec(0, align = "c", bold = TRUE) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
kable_styling(latex_options=c("scale_down"))
kbl(summary(data[,5:8]), caption = "Summary of COVID cases in the US, Georgia(GA), New York(NY), and California(CA)",
booktabs = T,
centering = T,
align = c("l", "c","c","c","c")) %>%
row_spec(0, align = "c", bold = TRUE) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
kable_styling(latex_options=c("scale_down"))
kbl(summary(data[,5:8]), caption = "Summary of 4 Tpyes of Vaccine",
booktabs = T,
centering = T,
align = c("l", "c","c","c","c")) %>%
row_spec(0, align = "c", bold = TRUE) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
kable_styling(latex_options=c("scale_down"))->summary_vaccine_table
df_table <- data[,c(1,3,5:8)] %>% filter(Location=="GA") %>%
group_by(Date) %>%
arrange(desc(Distributed_Janssen),desc(Distributed_Moderna),desc(Distributed_Pfizer),desc(Distributed_Novavax))
knitr::kable(head(df_table),"simple",
col.names = c('Date','Location','Janssen','Moderna', 'Pfizer', 'Novavax'),align = "lccccc",
caption = "Top 6 Vaccine Deliver Date")
knitr::kable(head(df_table),"simple",
col.names = c('Date','Location','Janssen','Moderna', 'Pfizer', 'Novavax'),align = "lccccc",
caption = "Top 6 Vaccine Deliver Date"ï¼Œ
kable_classic(full_width = F, html_font = "Cambria"),
kable_styling(latex_options=c("scale_down")))
knitr::kable(head(df_table),"simple",
col.names = c('Date','Location','Janssen','Moderna', 'Pfizer', 'Novavax'),align = "lccccc",
caption = "Top 6 Vaccine Deliver Date")
knitr::kable(head(df_table),"simple",
col.names = c('Date','Location','Janssen','Moderna', 'Pfizer', 'Novavax'),align = "lccccc",
caption = "Top 6 Vaccine Deliver Date")-> Top6_table
here::i_am(code/02_make_plot.R)
here::i_am("code/02_make_plot.R")
ggplot(data=df_plot)+
geom_line(aes(x=Date,y=Num_deliver,group=Type,color=Type))+
scale_x_datetime(date_breaks = "60 days",labels = date_format("%Y-%m-%d"))+
theme(axis.text.x = element_text(size=5, angle=0))+
ggtitle("Date-Number of Covid-19 Vaccine Delivery Between March 2021- September 2022")+
xlab("Date") +
ylab("Number of Covid-19 Vaccine Delivery")->Deliver_plot
data <- read.csv("COVID-19_Vaccinations_in_the_United_States_Jurisdiction.csv")
colnames(data)[5:8] <- c("Janssen","Moderna","Pfizer","Novavax")
df_plot<-data[,c(1,3,5:8)] %>%
filter(Location=="GA") %>%
pivot_longer(c(Janssen,Moderna,Pfizer,Novavax),
names_to = "Type",
values_to = "Num_deliver",
values_drop_na = TRUE) %>%
filter(Num_deliver != 0) %>%
na.omit()
df_plot$Date<- as.Date(df_plot$Date, format="%m/%d/%Y")
df_plot$Date <- as.POSIXct(df_plot$Date)
ggplot(data=df_plot)+
geom_line(aes(x=Date,y=Num_deliver,group=Type,color=Type))+
scale_x_datetime(date_breaks = "60 days",labels = date_format("%Y-%m-%d"))+
theme(axis.text.x = element_text(size=5, angle=0))+
ggtitle("Date-Number of Covid-19 Vaccine Delivery Between March 2021- September 2022")+
xlab("Date") +
ylab("Number of Covid-19 Vaccine Delivery")->Deliver_plot
ggsave(
here::here("output/Deliver_plot.png"),
plot = Deliver_plot,
device = "png"
)
data <- read.csv(here::here("COVID-19_Vaccinations_in_the_United_States_Jurisdiction.csv"))
pacman::p_load(
knitr,
kableExtra,
dplyr,
lubridate,
ggplot2,
hrbrthemes
)
here::i_am("code/01_make_table1.R")
data <- read.csv(here::here("COVID-19_Vaccinations_in_the_United_States_Jurisdiction.csv"))
library(Hmisc)
library(pacman)
pacman::p_load(
knitr,
kableExtra,
dplyr,
lubridate,
ggplot2,
hrbrthemes
)
knitr::kable(summary(data[,5:8]),)
kbl(summary(data[,5:8]), caption = "Summary of 4 Tpyes of Vaccine",
booktabs = T,
centering = T,
align = c("l", "c","c","c","c")) %>%
row_spec(0, align = "c", bold = TRUE) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
kable_styling(latex_options=c("scale_down"))->summary_vaccine_table
df_table <- data[,c(1,3,5:8)] %>% filter(Location=="GA") %>%
group_by(Date) %>%
arrange(desc(Distributed_Janssen),desc(Distributed_Moderna),desc(Distributed_Pfizer),desc(Distributed_Novavax))
knitr::kable(head(df_table),"simple",
col.names = c('Date','Location','Janssen','Moderna', 'Pfizer', 'Novavax'),align = "lccccc",
caption = "Top 6 Vaccine Deliver Date")-> Top6_table
saveRDS(summary_vaccine_table, file = here::here("output/summary_vaccine_table.rds"))
saveRDS(Top6_table, file = here::here("output/Top6_table.rds"))
here::i_am("code/02_make_plot.R")
data <- read.csv(here::here("COVID-19_Vaccinations_in_the_United_States_Jurisdiction.csv"))
colnames(data)[5:8] <- c("Janssen","Moderna","Pfizer","Novavax")
df_plot<-data[,c(1,3,5:8)] %>%
filter(Location=="GA") %>%
pivot_longer(c(Janssen,Moderna,Pfizer,Novavax),
names_to = "Type",
values_to = "Num_deliver",
values_drop_na = TRUE) %>%
filter(Num_deliver != 0) %>%
na.omit()
df_plot$Date<- as.Date(df_plot$Date, format="%m/%d/%Y")
df_plot$Date <- as.POSIXct(df_plot$Date)
ggplot(data=df_plot)+
geom_line(aes(x=Date,y=Num_deliver,group=Type,color=Type))+
scale_x_datetime(date_breaks = "60 days",labels = date_format("%Y-%m-%d"))+
theme(axis.text.x = element_text(size=5, angle=0))+
ggtitle("Date-Number of Covid-19 Vaccine Delivery Between March 2021- September 2022")+
xlab("Date") +
ylab("Number of Covid-19 Vaccine Delivery")->Deliver_plot
ggsave(
here::here("output/Deliver_plot.png"),
plot = Deliver_plot,
device = "png"
)
here::i_am("code/03_render_report.R")
library(rmarkdown)
render("report.Rmd",output_file = final_project_report.html)
render("report.Rmd",output_file = report.html)
render("report.Rmd")
